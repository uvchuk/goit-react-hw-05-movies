{"version":3,"file":"static/js/385.89f53ddf.chunk.js","mappings":"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","sources":["components/Details/Details.styled.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","components/BtnLoadMore/BtnLoadMore.styled.js","components/BtnLoadMore/BtnLoadMore.jsx","pages/Movies.jsx"],"sourcesContent":["import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(NavLink)`\n  display: inline-block;\n  position: absolute;\n  padding: 10px;\n  background-color: aliceblue;\n  text-decoration: none;\n  border-radius: 10px;\n`;\n\nexport const Card = styled.div`\n  display: flex;\n  gap: 15px;\n`;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style: none;\n  padding-left: 0;\n`;\n","import React from 'react';\nimport { List } from 'components/MoviesList/MoviesList.styled';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useConfig } from 'components/Context/Context';\n\nconst MoviesList = ({ movies }) => {\n  const { base_url, poster_sizes } = useConfig();\n  const location = useLocation();\n  const limitStr = (str, num) =>\n    str.length > num ? str.slice(0, num) + '...' : str;\n  return (\n    <List>\n      {movies.map(({ id, poster_path, title }) => (\n        <li key={id}>\n          <Link to={`${id}`} state={{ from: location }}>\n            <img\n              src={base_url + poster_sizes[2] + poster_path}\n              alt={title}\n            ></img>\n            <p> {limitStr(title, 20)}</p>\n          </Link>\n        </li>\n      ))}\n    </List>\n  );\n};\n\nexport default MoviesList;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  width: 600px;\n  margin: 0 auto;\n  padding: 5px;\n`;\n\nexport const Input = styled.input`\n  font-size: large;\n  width: 100%;\n  border: 2px solid yellowgreen;\n  border-radius: 10px;\n`;\n","import React from 'react';\nimport { Form, Input } from './SearchForm.styled';\n\nconst SearchForm = ({ filter, handleGetQuery }) => {\n  return (\n    <Form onSubmit={evt => evt.preventDefault()}>\n      <Input\n        value={filter}\n        onChange={handleGetQuery}\n        placeholder=\"Type your request here...\"\n      ></Input>\n    </Form>\n  );\n};\n\nexport default SearchForm;\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n  display: block;\n  margin: 0 auto;\n  padding: 5px;\n  width: 200px;\n  background-color: yellowgreen;\n  border: none;\n  border-radius: 15px;\n  font-size: medium;\n  cursor: pointer;\n`;\n","import React from 'react';\nimport { Button } from './BtnLoadMore.styled';\n\nconst BtnLoadMore = ({ onLoadMore }) => {\n  return (\n    <Button onClick={onLoadMore} type=\"button\">\n      Next\n    </Button>\n  );\n};\n\nexport default BtnLoadMore;\n","import { useEffect, useRef, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport MoviesAPI from 'services/MoviesAPI/MoviesAPI';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport BtnLoadMore from 'components/BtnLoadMore/BtnLoadMore';\nimport { StyledLink } from 'components/Details/Details.styled';\nconst moviesApi = new MoviesAPI();\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const [movies, setMovies] = useState(null);\n  const location = useLocation();\n  const filter = searchParams.get('filter') ?? '';\n  const page = searchParams.get('page') ?? 1;\n  const searchConfig = Object.fromEntries([...searchParams]);\n  const backLink = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!searchParams) return;\n    moviesApi\n      .searchMovies(filter, page)\n      .then(({ results }) => setMovies(results));\n  }, [filter, page, searchParams]);\n\n  const handleGetQuery = evt => {\n    const searchInput = evt.target.value;\n    if (searchInput === '') {\n      // delete searchConfig.filter;\n      return setSearchParams({});\n    }\n    setSearchParams({ filter: searchInput, page: 1 });\n  };\n\n  const onLoadMore = () => {\n    setSearchParams({ ...searchConfig, page: +page + 1 });\n  };\n\n  if (movies) {\n    document.title = 'Movies';\n    return (\n      <>\n        <StyledLink to={backLink.current}>Back</StyledLink>\n        <SearchForm filter={filter} handleGetQuery={handleGetQuery} />\n        {movies.length > 0 && (\n          <>\n            <MoviesList movies={movies} />{' '}\n            <BtnLoadMore onLoadMore={onLoadMore} />\n          </>\n        )}\n      </>\n    );\n  }\n};\n\nexport default Movies;\n"],"names":["StyledLink","styled","NavLink","Card","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","List","movies","useConfig","base_url","poster_sizes","location","useLocation","map","str","num","id","poster_path","title","to","state","from","src","alt","slice","Form","Input","handleGetQuery","onSubmit","evt","preventDefault","onChange","placeholder","Button","onLoadMore","onClick","type","moviesApi","MoviesAPI","useSearchParams","searchParams","setSearchParams","useState","setMovies","get","page","searchConfig","fromEntries","backLink","useRef","useEffect","searchMovies","then","results","document","current","searchInput"],"sourceRoot":""}